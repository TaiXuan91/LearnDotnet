# Class

类定义是一种定义类型的方法。我们可以用数学上的“类”或者“集合”来对照理解。

对于一个集合来说，需要从三个角度来描述它——它的名称，它的外延，它的内涵。集合的外延就是集合的成员。集合的内涵就是定义集合的那个陈述。

因此对于类来说，它也涉及三个问题：

- 定义一个类，要给类起名。
- 定义类的成员，相当于描述类的内涵。
- 类可以实例化，这些实例化的结果称为“对象”。对象之于类，就像集合元素之于集合。

对于集合来说，集合之间存在包含关系。比对到类上，类之间存在继承关系。一个类B继承自类A，就称类B是类A的“子类”，类A是类B的“父类”。这里，“子类”的概念就相当于集合上的“子集”。因此类B包含于类A。

由于名称的相关问题我们在Namespace部分已经介绍过。我们关于类主要介绍三部分内容：

- 类的内涵，类的成员定义。
- 对象和类，类的实例化。
- 类之间的关系，继承和接口。

## 类成员

一个类的成员可以是字段（Fields），常量（Constants），方法（Methods），属性（Properties），构造器（Constructors），索引器（Indexers），算符（Operators），事件（Events），析构器（Destructors）或者其他类型定义（Types）。他们大致上可以分为三类：

- 本质上是变量或者常量的：字段，常量，事件
- 本质上是函数定义的：方法，属性，构造器，析构器，索引器，算符
- 类型定义（例如在一个类的定义里可以写其他类的定义或者结构体定义等）

其中事件有专门的章节介绍我们这里暂且跳过。

### 字段和常量

一个字段代表了一个存储数据的内存空间。读取字段就是读取这个内存空间中的数据，而给字段赋值就是让给内存空间写入（或者说“覆盖”）数据。

由于直接使用内存地址太过复杂，我们给每个字段一个标识符。通过标识符来表示这个存储数据用的内存空间。一般来说我们首先需要使用字段声明语句声明字段。在声明字段的时候指定两种信息——字段的数据类型和字段的标识符。经过声明的字段还不能直接读取。因为此时字段没有存储任何东西。需要首先给字段进行初始化——也就是赋予一个值。一般在声明的时候直接赋予字段初始值。如果你的字段声明于函数中，那么也可以在声明之后，单独用赋值语句完成赋值。

> 当然字段标识符有重名的可能。而名称冲突的解决机制，我们在命名空间和标示符作用域那里已经介绍过了。

常量和字段有很多相似之处。但是现在只说一点：常量只能在声明的时候完成初始化，并且不能在其他情况下被赋值。

> 常量也不一定会占用特定内存空间，因为有的语言在处理常量的时候直接把常量编译为立即数。因而不会分配专门的内存空间。
>
> 需要注意`const`是编译时常量，因此你无法使用一个运行时数据来初始化它。所有初始化常量的数据必须在编译的时候已经确定。如果需要运行时初始化的只读数据，可以使用`readonly`关键字修饰字段。
>
> 另外由于`const`是编译时常量，它有可能在编译时进行优化，因此如果使用只读字段和常量都可以的情况下，使用常量有可能更加节约资源。

常量声明就是在字段声明之前加上了`const`修饰，例如：

```C#
int x = 10; // variable
const int y = 20; //constant
```

### 







类对象的区别中，非静态字段是每个对象都共有的，

常量不能声明为静态，而且默认是整个类和对象都可以访问

Constants are always implicitly static. However, notice that you
don’t have to (and, in fact, are not permitted to) include the static
modifier in the constant declaration.





其中事件有专门的章节介绍。

字段和常量放到内存部分介绍。





实例化之后，每个成员都有类的成员。类相当于模板







一个类有两个维度的关系——它由哪些已定义类型组成，它由哪些已定义类型增广而来。一个维度就是类和它的成员之间的关系。第二个维度就是类之间的继承关系。这一期我们先讲类和类的成员。

## 类的成员种类

我们可以在命名空间中定义类。而在类的内部，可以定义的东西就多得多了。在类的内部定义的东西，我们称之为类的“成员”。我将它们分成三大类：

1. 变量，常量，事件。
1. 方法，属性，构造函数，析构函数，算符重载。
1. 类型。

第1类，本质上都是声明了变量。第2类，本质上都是定义了函数。第3类，本质上是定义了类型。

类由类成员组成。

## 类的继承

## 类的实例化



## 变量和常量

## 成员访问控制

## 静态成员

## 类的实例化

## 类的继承

## 类的接口

## 泛型



变量和常量 （115页）

类型系统的var （118）

预定义数据类型 (123)

流成控制 （137）

编译预处理命令（151，158）

主函数 （153）

注释问题 （155）

类和结构体的差异（175）





讲函数的时候说一下变量的内存生命周期，何时回收。

堆栈。

下次该读：

第三章

